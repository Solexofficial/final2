(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[19],{667:function(e,t,n){"use strict";n.r(t),n.d(t,"ClientList",(function(){return T}));var a=n(2),s=n(264),i=n(269),c=n(683),l=n(0),r=n(38),d=n(42),o=n(164),j=function(e){return e.clients.entities},m=function(e){return e.clients.isLoading},u=function(e){return e.clients.error},b=n(14),x=n(684),O=n(462),h=n(463),p=n(429),v=n(110),f=n(32),y=function(e){var t,n,i,c,l,j,m=e.id,u=Object(r.d)((j=m,function(e){if(e.clients.entities)return e.clients.entities.find((function(e){return e.id===+j}))})),y=Object(d.g)(),g=Object(r.c)(),I={name:null===u||void 0===u?void 0:u.name,email:null===u||void 0===u?void 0:u.email,username:null===u||void 0===u?void 0:u.username,phone:null===u||void 0===u?void 0:u.phone,companyName:null===u||void 0===u||null===(t=u.company)||void 0===t?void 0:t.name,website:null===u||void 0===u?void 0:u.website,street:null===u||void 0===u||null===(n=u.address)||void 0===n?void 0:n.street,suite:null===u||void 0===u||null===(i=u.address)||void 0===i?void 0:i.suite,city:null===u||void 0===u||null===(c=u.address)||void 0===c?void 0:c.city,postcode:null===u||void 0===u||null===(l=u.address)||void 0===l?void 0:l.zipcode};return u?Object(a.jsx)("div",{className:"mt-4 p-3",children:Object(a.jsx)(x.a,{name:"basicInformation",layout:"vertical",initialValues:I,onFinish:function(e){var t="updatable",n=Object(b.a)(Object(b.a)({},u),{},{name:e.name,email:e.email,username:e.username,phone:e.phone,website:e.website,company:Object(b.a)(Object(b.a)({},u.company),{},{name:e.companyName}),address:Object(b.a)(Object(b.a)({},u.address),{},{street:e.street,city:e.city,zipcode:e.postcode})});s.b.loading({content:"Updating...",key:t}),setTimeout((function(){console.log("Sending data: ",n),g(Object(o.e)(n)),s.b.success({content:"Done! Check data in console",key:t,duration:2}),setTimeout((function(){y.goBack()}),1e3)}),1e3)},onFinishFailed:function(e){console.log("Failed:",e)},children:Object(a.jsx)(O.a,{children:Object(a.jsxs)(h.a,{xs:24,sm:24,md:24,lg:24,children:[Object(a.jsxs)(O.a,{gutter:f.c,children:[Object(a.jsx)(h.a,{xs:24,sm:24,md:24,children:Object(a.jsx)(x.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input your name!"}],children:Object(a.jsx)(p.a,{})})}),Object(a.jsx)(h.a,{xs:24,sm:24,md:12,children:Object(a.jsx)(x.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(a.jsx)(p.a,{})})}),Object(a.jsx)(h.a,{xs:24,sm:24,md:12,children:Object(a.jsx)(x.a.Item,{label:"Email",name:"email",rules:[{required:!0,type:"email",message:"Please enter a valid email!"}],children:Object(a.jsx)(p.a,{})})}),Object(a.jsx)(h.a,{xs:24,sm:24,md:12,children:Object(a.jsx)(x.a.Item,{label:"Company name",name:"companyName",children:Object(a.jsx)(p.a,{})})}),Object(a.jsx)(h.a,{xs:24,sm:24,md:12,children:Object(a.jsx)(x.a.Item,{label:"Phone Number",name:"phone",children:Object(a.jsx)(p.a,{})})}),Object(a.jsx)(h.a,{xs:24,sm:24,md:24,children:Object(a.jsx)(x.a.Item,{label:"Website",name:"website",children:Object(a.jsx)(p.a,{})})}),Object(a.jsx)(h.a,{xs:24,sm:24,md:12,children:Object(a.jsx)(x.a.Item,{label:"Street",name:"street",children:Object(a.jsx)(p.a,{})})}),Object(a.jsx)(h.a,{xs:24,sm:24,md:12,children:Object(a.jsx)(x.a.Item,{label:"Suite",name:"suite",children:Object(a.jsx)(p.a,{})})}),Object(a.jsx)(h.a,{xs:24,sm:24,md:12,children:Object(a.jsx)(x.a.Item,{label:"City",name:"city",children:Object(a.jsx)(p.a,{})})}),Object(a.jsx)(h.a,{xs:24,sm:24,md:12,children:Object(a.jsx)(x.a.Item,{label:"Post code",name:"postcode",children:Object(a.jsx)(p.a,{})})})]}),Object(a.jsx)(v.a,{type:"primary",htmlType:"submit",children:"Save Change"})]})})})}):(setTimeout((function(){y.goBack()}),2e3),s.b.error({content:"Client with id ".concat(m," was not found"),duration:2}))},g=n(436),I=n(689),C=n(690),N=n(191),w=n(682),k=n(685),z=function(e){return Object(a.jsx)(k.a,Object(b.a)(Object(b.a)({},e),{},{className:"ant-avatar-".concat(e.type),children:e.text}))},E=function(e){var t=e.name,n=e.suffix,s=e.subTitle,i=e.id,c=e.type,l=e.src,r=e.icon,d=e.size,o=e.shape,j=e.gap,m=e.text,u=e.onNameClick;return Object(a.jsxs)("div",{className:"avatar-status d-flex align-items-center",children:[z({icon:r,src:l,type:c,size:d,shape:o,gap:j,text:m}),Object(a.jsxs)("div",{className:"ml-2",children:[Object(a.jsxs)("div",{children:[u?Object(a.jsx)("div",{onClick:function(){return u({name:t,subTitle:s,src:l,id:i})},className:"avatar-status-name clickable",children:t}):Object(a.jsx)("div",{className:"avatar-status-name",children:t}),Object(a.jsx)("span",{children:n})]}),Object(a.jsx)("div",{className:"text-muted avatar-status-subtitle",children:s})]})]})},S=function(e){var t=e.clients,n=e.onDelete,s=e.onEdit,i=[{title:"Client",dataIndex:"name",render:function(e,t){return Object(a.jsx)("div",{className:"d-flex",children:Object(a.jsx)(E,{name:t.username,subTitle:t.name,icon:Object(a.jsx)(g.a,{})})})},sorter:{compare:function(e,t){return(e=e.username.toLowerCase())<(t=t.username.toLowerCase())?-1:e>t?1:0}}},{title:"Email",dataIndex:"email",responsive:["xl","xxl","lg","md","sm"],sorter:{compare:function(e,t){return(e=e.email.toLowerCase())>(t=t.email.toLowerCase())?-1:t>e?1:0}}},{title:"Phone",dataIndex:"phone",responsive:["xl","xxl","lg","md"]},{title:"Website",dataIndex:"website",responsive:["xl","xxl"]},{title:"City",dataIndex:"address",responsive:["xl","xxl"],render:function(e){return Object(a.jsxs)("span",{children:[e.city," "]})}},{title:"Street",dataIndex:"address",responsive:["xl","xxl"],render:function(e){return Object(a.jsxs)("span",{children:[e.street," "]})}},{title:"Company name",dataIndex:"company",responsive:["xxl"],render:function(e){return Object(a.jsxs)("span",{children:[e.name," "]})}},{title:"",dataIndex:"actions",render:function(e,t){return Object(a.jsxs)("div",{className:"text-right",children:[Object(a.jsx)(N.a,{title:"Edit",children:Object(a.jsx)(v.a,{type:"primary",className:"mr-2",icon:Object(a.jsx)(I.a,{}),onClick:function(){return s(t.id)},size:"small"})}),Object(a.jsx)(N.a,{title:"Delete",children:Object(a.jsx)(v.a,{danger:!0,icon:Object(a.jsx)(C.a,{}),onClick:function(){n(t.id)},size:"small"})})]})}}];return Object(a.jsx)(w.a,{columns:i,dataSource:t,rowKey:"id"})},T=function(e){var t=e.match,n=Object(r.c)(),b=Object(d.g)(),x=Object(d.h)().clientId,O=Object(r.d)(j),h=Object(r.d)(m),p=Object(r.d)(u);Object(l.useEffect)((function(){n(Object(o.c)())}),[n]),Object(l.useEffect)((function(){p&&s.b.error({content:"".concat(p),duration:3})}),[p]);return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(i.a,{size:"large",spinning:h,children:Object(a.jsx)(c.a,{bodyStyle:{padding:"0px"},children:!h&&(x?Object(a.jsx)(y,{id:x}):Object(a.jsx)(S,{clients:O,onDelete:function(e){n(Object(o.b)(e)),s.b.success({content:"Deleted user ".concat(e),duration:2})},onEdit:function(e){b.push("".concat(t.url,"/").concat(e))}}))})})})};t.default=T}}]);
//# sourceMappingURL=19.6aca8e2a.chunk.js.map